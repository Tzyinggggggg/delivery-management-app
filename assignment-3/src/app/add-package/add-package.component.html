<!-- add-package.component.html -->

<main class="container mt-4">
  <h1 class="text-center">Add Package</h1>
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow-sm">
        <div class="card-body">
          <form (ngSubmit)="addPackage()" #packageForm="ngForm">
            <div class="mb-3">
              <label for="package_title" class="form-label"
                >Package Title</label
              >
              <input
                type="text"
                name="package_title"
                class="form-control"
                id="package_title"
                placeholder="Enter package title"
                [(ngModel)]="package.package_title"
              />
            </div>
            <div class="mb-3">
              <label for="package_weight" class="form-label"
                >Package Weight</label
              >
              <input
                type="number"
                name="package_weight"
                class="form-control"
                id="package_weight"
                placeholder="Enter package weight"
                step="0.01"
                min="0.01"
                [(ngModel)]="package.package_weight"
              />
            </div>
            <div class="mb-3">
              <label for="package_destination" class="form-label"
                >Package Destination</label
              >
              <input
                type="text"
                name="package_destination"
                class="form-control"
                id="package_destination"
                placeholder="Enter package destination"
                [(ngModel)]="package.package_destination"
              />
            </div>
            <div class="mb-3">
              <label for="description" class="form-label">Description</label>
              <textarea
                name="description"
                class="form-control"
                id="description"
                placeholder="Enter package description"
                [(ngModel)]="package.description"
                maxlength="30"
              ></textarea>
            </div>
            <div class="mb-3 form-check form-switch">
              <input
                class="form-check-input"
                type="checkbox"
                id="isAllocated"
                name="isAllocated"
                [(ngModel)]="package.isAllocated"
              />
              <label class="form-check-label" for="isAllocated"
                >Is Allocated</label
              >
            </div>
            <div class="mb-3">
              <label for="driver_id" class="form-label">Driver</label>
              <select
                name="driver_id"
                class="form-select"
                id="driver_id"
                [(ngModel)]="selectedDriverId"
              >
                <option value="">Select driver</option>

                @for (driver of drivers; track driver.driver_id) {
                <option [value]="driver._id">
                  {{ driver.driver_name }} {{ driver.driver_id }} ({{
                    driver._id
                  }})
                </option>
                }
              </select>
            </div>
            <button type="submit" class="btn btn-primary">Add Package</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</main>
